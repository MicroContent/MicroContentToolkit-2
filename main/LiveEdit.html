<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>LiveEditTestHost</title>
    <!--Codemirror basics-->
    <script src="../codemirror-5.63.3/lib/codemirror.js"></script>
    <link rel="stylesheet" href="../codemirror-5.63.3/lib/codemirror.css">
    <!--Codemirror themes-->
    <link rel="stylesheet" href="../codemirror-5.63.3/theme/dracula.css">
    <!--Codemirror modes-->
    <script src="../codemirror-5.63.3/mode/xml/xml.js"></script>
    <script src="../codemirror-5.63.3/mode/css/css.js"></script>
    <script src="../codemirror-5.63.3/mode/javascript/javascript.js"></script>
    <script src="../codemirror-5.63.3/mode/htmlmixed/htmlmixed.js"></script>
    <!--Codemirror addons-->
    <link rel="stylesheet" href="../codemirror-5.63.3/addon/hint/show-hint.css">
    <script src="../codemirror-5.63.3/addon/hint/show-hint.js"></script>
    <script src="../codemirror-5.63.3/addon/hint/html-hint.js"></script>
    <script src="../codemirror-5.63.3/addon/hint/css-hint.js"></script>
    <script src="../codemirror-5.63.3/addon/hint/xml-hint.js"></script>
    <script src="../codemirror-5.63.3/addon/hint/javascript-hint.js"></script>
    <script src="../codemirror-5.63.3/addon/edit/closetag.js"></script>
    <script src="../codemirror-5.63.3/addon/edit/closebrackets.js"></script>
    <script src="../codemirror-5.63.3/addon/edit/matchtags.js"></script>
    <script src="../codemirror-5.63.3/addon/fold/xml-fold.js"></script>
    <!--other-->
    <link rel="stylesheet" href="../css/test.css">
    <script src="../js/script.js"></script>
    <script src="../seamless/node_modules/seamless/build/seamless.parent.min.js"></script>
    <style>
        .CodeMirror {
            height: 100%;
            width: 100%;
            position: absolute
        }
    </style>

</head>

<body>
    <div class="grid-container">
        <div class="Buttons">
            <div>
                <input id="first_i" type="file">
                <button onclick="loadFileAsText()">Load the first editor</button>
                <!--input id="second_i" , type="file"-->
                <button type="button" id="save1">Save editor plugin to file</button>


            </div>

            <div id="filler">

            </div>

            <div>
                <input id="second_i" type="file">
                <button onclick="loadFileAsText2()">Load the second editor</button>
                <!--input id="second_i" , type="file"-->
                <button type="button" id="save2">Save viewer plugin to file</button>

            </div>

            <div id="filler">

            </div>

            <div>
                <label for="url">Enter stylesheet url</label><br>
                <input style="width: auto;" type="text" id="url" name="url"><br><br>
                <input type="submit" value="Submit"><br>
            </div>

            <input type="text" placeholder="Enter website to test..." id="myWebsite">
            <button type="button" onclick="getWebURL()">Get Value</button>


        </div>
        <div class="Edit-editor" id=editor1 style="position:relative;border: 1px rgb(0, 17, 255) solid; margin: 0.5%;">

            <textarea id="live" class="form-control">Upload to change editor...</textarea>
            <script>
                var editor = CodeMirror.fromTextArea
                    (document.getElementById('live'), {
                        mode: "htmlmixed",
                        theme: "dracula",
                        lineNumbers: true,
                        autoCloseTags: true,
                        extraKeys: { "Ctrl-Space": "autocomplete" },
                        autoCloseBrackets: true,
                        matchTags: true

                    });

            </script>

        </div>



        <div class="Edit-viewer" id=editor2 style="position:relative; border: 1px rgb(0, 17, 255) solid; margin: 0.5%;">
            <textarea id="live2">Upload to change viewer...</textarea>
            <script>
                var editor2 = CodeMirror.fromTextArea
                    (document.getElementById('live2'), {
                        mode: "htmlmixed",
                        theme: "dracula",
                        lineNumbers: true,
                        autoCloseTags: true,
                        extraKeys: { "Ctrl-Space": "autocomplete" },
                        autoCloseBrackets: true,
                        matchTags: true

                    });

            </script>


        </div>



        <div class="Editor" id=editor style="border: 1px rgb(0, 17, 255) solid; margin: 0.5%; overflow: scroll">
            <div class="panel-heading">
                <h2>Editor</h2>
                <p>
                    <button class="btn btn-raised btn-info" onclick="reloadEditor()">Reload Editor</button>
                </p>
            </div>
            <div class="panel-body" id="editor_container"></div>
        </div>


        <div class="Data" id=data style="border: 1px rgb(0, 17, 255) solid; margin: 0.5%; overflow: scroll">
            <div class="panel-heading">
                <h2>Data</h2>
                <p>
                    <button class="btn btn-raised btn-info" onclick="loadDataFromEditor()">Load Data from
                        Editor</button>
                </p>
            </div>
            <div class="panel-body">
                <textarea id="data-input" style="width: 80%; min-height: 150px"></textarea>
            </div>
        </div>


        <div class="Viewer" id=viewer style="border: 1px rgb(0, 17, 255) solid; margin: 0.5%; overflow: scroll">
            <div class="panel-heading">
                <h2>Viewer</h2>
                <p>
                    <button class="btn btn-raised btn-info" onclick="reloadViewer()">Reload Viewer</button>
                </p>

            </div>
            <div class="panel-body" id="viewer_container"></div>
            <div class="panel-footer">
                <button onclick="window.onViewerSubmitListener()">Submit/Undo</button>
            </div>
            
            <iframe id="code_result" style="width:100%; height:80%" src="" />

            <script type="text/javascript">
                window.onload = function() {
                  // Turns the iframe into a seamless iframe.
                  window.seamless(document.getElementById('code_result'));
                };
                window.seamless(document.getElementById('code_result'), {
                    spinner:'http://www.travistidwell.com/seamless.js/src/loader.gif'
                });
              </script>
        </div>

    </div>

    <!--<script type="text/javascript" src="../js/jquery-3.6.0.min.js"></script>-->


</body>

</html>